<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/style3.css">
    <title>Halaman Daftar</title>

  </head>
  <body>
    <div >
        <!-- area component -->
        <section class="area_component">
          <!-- area label -->
          <section class="area_label">
            <label for="txt_nama">Nama Siswa</label>
          </section>
    
          <!-- area input -->
          <section class="area_input">
            <input
              type="text"
              name=""
              id="txt_nama"
              placeholder="Isi Nama Siswa"
              class="txt_component"
            />
           
          </section>
        </section>

    <!-- area component -->
    <section class="area_component">
      <!-- area label -->
      <section class="area_label">
        <label for="txt_no">No Handphone</label>
      </section>

      <!-- area input -->
      <section class="area_input">
        <input
          type="text"
          name=""
          id="txt_no"
          placeholder="Isi No Handphone"
          class="txt_component"
          onpaste="return false"
          oncopy="return false"
          oncut="return false"
        
        />
      </section>
    </section>

        <!-- area component -->
        <section class="area_component">
          <!-- area label -->
          <section class="area_label">
            <label for="txt_email">Masukkan Email</label>
          </section>
    
          <!-- area input -->
          <section class="area_input">
            <input
              type="text"
              name=""
              id="txt_email"
              placeholder="Masukkan Email"
              class="txt_component"
              oninput="validateEmailInput(this)"
            />
          </section>
        </section>
      </div>

    <hr />
    <form action="login.html">
    <input type="submit" value="Simpan" onclick="saveHandler(event)" >
    <button type="submit" class="delete-button" onclick="deleteHandler(event)">Hapus</button>
    
  </form>

    <!-- internal js -->
    <script>

      
      // inisialiasi variabel komponen
      let txt_nama = document.querySelector("#txt_nama");
      let txt_npm = document.querySelector("#txt_no");
      let txt_email = document.querySelector("#txt_email");


            //  buat arrow function agar isi data hanya dapat diisi huruf dan spasi
            const keyText = (event) => {
        if (
          (event.key >= "a" && event.key <= "z") ||
          (event.key >= "A" && event.key <= "Z") ||
          event.which == 32
        ) {
          return true;
        } else {
          return false;
        }
      };

      //  buat arrow function agar isi data hanya dapat diisi angka
      const keyNumber = (event) => {
        if (event.key >= "0" && event.key <= "9") {
          return true;
        } else {
          return false;
        }
      };

        // Fungsi untuk validasi input email
  function validateEmailInput(input) {
    // Hapus karakter yang tidak sesuai dari nilai input
    input.value = input.value.replace(/[^a-zA-Z0-9.@]/g, '');
  }

      //  buat arrow function agar dapat berpindah ke komponen lain
      const keyEnter = (event, component) => {
        if (event.key == "Enter") {
          component.focus();
        }
      };

      // buat event "keypress" (kejadian saat menekan dan menahan tombol tertentu)
      // panggil fungsi "keyNumber" agar "txt_no" hanya dapat diisi angka
      txt_no.addEventListener(
        "keypress",
        (event) => (event.returnValue = keyNumber(event))
      );

      // buat event "keypress" (kejadian saat menekan dan menahan tombol tertentu)
      // panggil fungsi "keyText" agar "txt_nama" hanya dapat diisi huruf dan spasi
      txt_nama.addEventListener(
        "keypress",
        (event) => (event.returnValue = keyText(event))
      );

      // buat event "keyup" (kejadian saat berhenti menekan (melepas) tombol tertentu)
      // panggil fungsi "keyEnter" agar dapat berpindah dari komponen "txt_npm" ke "txt_nama"
      txt_nama.addEventListener("keyup", (event) => keyEnter(event, txt_no));
      txt_no.addEventListener("keyup", (event) => keyEnter(event, txt_email));

       // Fungsi untuk menyimpan data
  function saveHandler(event) {
    event.preventDefault(); // Menghentikan aksi default formulir (refresh halaman)

    // Validasi apakah semua komponen terisi
    if (txt_nama.value.trim() === '' || txt_no.value.trim() === '' || txt_email.value.trim() === '') {
      alert("Semua komponen harus diisi sebelum menyimpan!");
      return;
    }

    window.location.href = "login.html";
  }


      function deleteHandler(event) {
    event.preventDefault(); // Menghentikan aksi default formulir (refresh halaman)

    // Tempatkan logika penghapusan atau tindakan lainnya di sini
    var userConfirmed = confirm("Apakah anda yakin ingin menghapus?");

    if (userConfirmed) {
      location.reload(); // Fungsi untuk merefresh halaman
    } else {
      // Jika pengguna membatalkan hapus, tambahkan logika sesuai kebutuhan
      alert("Penghapusan dibatalkan.");
    }
  }
    </script>
  </body>
</html>
